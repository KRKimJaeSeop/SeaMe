fileFormatVersion: 2
guid: 76662c00a54a107419bb7e9cdf860a03
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst
    UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst ZEPETO_Character_Controller_1
    = require(\\\"ZEPETO.Character.Controller\\\");\\r\\nconst MultiplayManager_1
    = require(\\\"../../MultiplaySync/Common/MultiplayManager\\\");\\r\\nclass PlayerController
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor() {\\r\\n       
    super(...arguments);\\r\\n        // \uB0B4\uAC00 \uACF5\uACA9\uC911\uC774\uB77C\uBA74
    true\\r\\n        this.isAttacking = false;\\r\\n        this.AttackCoroutine
    = null;\\r\\n    }\\r\\n    Start() {\\r\\n        this.StartCoroutine(this.ShootRay());\\r\\n       
    this.StartCoroutine(this.CoRoutine());\\r\\n        //  MultiplayManager.instance.room.Send(\\\"testonJoin\\\",
    \\\"\uCDA9\uB3CC!\\\");\\r\\n        MultiplayManager_1.default.instance.room.AddMessageHandler(\\\"ABCD\\\",
    (message) => {\\r\\n            UnityEngine_1.Debug.Log(\\\"::RoomJoined\\\");\\r\\n       
    });\\r\\n    }\\r\\n    // \uB8F8\uC785\uC7A5 1\uCD08 \uD6C4 \uCE90\uB9AD\uD130
    \uBCC0\uACBD.\\r\\n    *CoRoutine() {\\r\\n        yield new UnityEngine_1.WaitForSeconds(1);\\r\\n       
    // \uB85C\uCEEC \uCE90\uB9AD\uD130\\r\\n        let _character = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoPlayer;\\r\\n       
    // \uBCF8 \uC704\uCE58\\r\\n        let tempTransform = _character.character.Context.transform;
    // ZepetoAnimator.GetBoneTransform(UnityEngine.HumanBodyBones.);\\r\\n       
    this.gameObject.transform.SetParent(tempTransform);\\r\\n        this.gameObject.transform.localPosition
    = UnityEngine_1.Vector3.zero;\\r\\n        // \uCE90\uB9AD\uD130 off\\r\\n       
    _character.character.ZepetoAnimator.GetBoneTransform(UnityEngine_1.HumanBodyBones.Hips).gameObject.SetActive(false);\\r\\n       
    _character.character.Context.transform.GetChild(0).gameObject.SetActive(false);\\r\\n       
    this.PlayerValueSetting();\\r\\n    }\\r\\n    //\uAC8C\uC784 \uC785\uC7A5\uC2DC
    \uD50C\uB808\uC774\uC5B4\uC758 \uC218\uCE58\uB97C \uC870\uC815\uD55C\uB2E4.\\r\\n   
    PlayerValueSetting() {\\r\\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.ZepetoCamera.camera.transform.GetComponent($typeof(UnityEngine_1.Camera)).farClipPlane
    = this.playerValue.get_Item(\\\"cameraDistance\\\");\\r\\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.characterData.jumpPower
    = this.playerValue.get_Item(\\\"playerJumpPower\\\");\\r\\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.characterData.runSpeed
    = this.playerValue.get_Item(\\\"playerMoveSpeed\\\");\\r\\n    }\\r\\n    *ShootRay()
    {\\r\\n        UnityEngine_1.Debug.Log(\\\"[ShootRay]\\\");\\r\\n        // \uB808\uC774
    \uC138\uD305\\r\\n        let ref = $ref();\\r\\n        let layerMask = 1 <<
    UnityEngine_1.LayerMask.NameToLayer(\\\"Player\\\");\\r\\n        //\uBD80\uB52B\uD78C\uAC8C
    \uB098 \uC790\uC2E0\uC778\uC9C0 \uCCB4\uD06C\uD574\uC57C\uD568.\\r\\n       
    while (true) {\\r\\n            let ray = new UnityEngine_1.Ray(ZEPETO_Character_Controller_1.ZepetoPlayers.instance.ZepetoCamera.camera.transform.position,
    ZEPETO_Character_Controller_1.ZepetoPlayers.instance.ZepetoCamera.camera.transform.forward);\\r\\n           
    //OnEnter\\r\\n            if (UnityEngine_1.Physics.Raycast(ray, ref, this.playerValue.get_Item(\\\"playerAttackDistance\\\"),
    layerMask)) {\\r\\n                let hitInfo = $unref(ref);\\r\\n               
    if (hitInfo.collider.gameObject.GetInstanceID() != this.gameObject.GetInstanceID())
    {\\r\\n                    //\uC774\uBBF8 \uB3CC\uC544\uAC00\uACE0\uC788\uB2E4\uBA74
    \uC911\uBCF5\uD638\uCD9CX\\r\\n                    if (this.AttackCoroutine ==
    null) {\\r\\n                        this.AttackCoroutine = this.StartCoroutine(this.Attack());\\r\\n                   
    }\\r\\n                }\\r\\n            }\\r\\n            //OnExit\\r\\n           
    else if (this.AttackCoroutine != null) {\\r\\n                UnityEngine_1.Debug.Log(\\\"Attack::Escape\\\");\\r\\n               
    this.StopCoroutine(this.AttackCoroutine);\\r\\n                this.AttackCoroutine
    = null;\\r\\n            }\\r\\n            yield new UnityEngine_1.WaitForSeconds(0.05);\\r\\n       
    }\\r\\n    }\\r\\n    *Attack() {\\r\\n        for (let index = 0; index < this.playerValue.get_Item(\\\"playerAttackTime\\\");
    index++) {\\r\\n            UnityEngine_1.Debug.Log(index);\\r\\n           
    yield new UnityEngine_1.WaitForSeconds(1);\\r\\n        }\\r\\n        this.StopCoroutine(this.AttackCoroutine);\\r\\n       
    this.AttackCoroutine = null;\\r\\n        UnityEngine_1.Debug.Log(\\\"Attack::KILL\\\");\\r\\n   
    }\\r\\n}\\r\\nexports.default = PlayerController;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBsYXllckNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpREFBNkU7QUFDN0UsNkNBQW9MO0FBQ3BMLDZFQUF3RjtBQUd4RixrRkFBMkU7QUFJM0UsTUFBcUIsZ0JBQWlCLFNBQVEscUNBQXFCO0lBQW5FOztRQU1JLGlCQUFpQjtRQUNWLGdCQUFXLEdBQVMsS0FBSyxDQUFDO1FBQzFCLG9CQUFlLEdBQWMsSUFBSSxDQUFDO0lBd0Y3QyxDQUFDO0lBbkZXLEtBQUs7UUFDVCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDdEMsNkRBQTZEO1FBQzdELDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDakUsbUJBQUssQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRUQsbUJBQW1CO0lBQ25CLENBQUMsU0FBUztRQUNOLE1BQU0sSUFBSSw0QkFBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLFNBQVM7UUFDVCxJQUFJLFVBQVUsR0FBRywyQ0FBYSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDO1FBRWpFLE9BQU87UUFDUCxJQUFJLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQSxnRUFBZ0U7UUFFM0gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FB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\",\"assetPath\":\"Assets/02.Scripts/Character/PlayerController.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"ZEPETO.Script\",\"name\":\"playerValue\",\"type\":\"ZEPETO.Script.ZepetoScriptableObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"mscorlib\",\"name\":\"isAttacking\",\"type\":\"System.Boolean\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"AttackCoroutine\",\"type\":\"UnityEngine.Coroutine\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"mscorlib\",\"name\":\"ownID\",\"type\":\"System.String\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"PlayerController\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: dadc524007de0019b7922bdd0608640c
  onlyWriteTrigger: 0
